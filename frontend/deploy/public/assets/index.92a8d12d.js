var e=Object.defineProperty,t=Object.assign,a=(t,a,l)=>("symbol"!=typeof a&&(a+=""),a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l);import{r as l,U as s,D as r,a as n,b as c,N as o,B as m,L as i,T as d,c as p,d as u,e as h,C as E,f as g,g as v,h as N,i as f,j as b,k as y,l as C,m as A,n as x,o as I,p as w,q as T,X as k,s as M,t as S,u as D,v as L,R as O,w as F,M as U,x as P,y as R,z as _,A as j,E as G,F as H,S as $,G as q,H as B,I as V,J,K as Y,O as K,P as W,Q as z,V as Z,W as Q}from"./vendor.12db7336.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(a){const l=new URL(e,location),s=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((a,r)=>{const n=new URL(e,l);if(self[t].moduleMap[n])return a(self[t].moduleMap[n]);const c=new Blob([`import * as m from '${n}';`,`${t}.moduleMap['${n}']=m;`],{type:"text/javascript"}),o=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(c),onerror(){r(new Error(`Failed to import: ${e}`)),s(o)},onload(){a(self[t].moduleMap[n]),s(o)}});document.head.appendChild(o)})),self[t].moduleMap={}}}("/shop/assets/");class X extends l.Component{constructor(e){super(e),this.doLogin=this.doLogin.bind(this)}doLogin(){console.log("do login"),this.props.authClient.loginWithPopup().then((()=>{this.props.authClient.getUser().then((e=>{console.log("post-login got user: "),console.log(e),this.props.storeUser(e),this.props.fetchCartItems(this.props.authClient)}))}))}render(){return null!=this.props.user?l.createElement(l.Fragment,null,l.createElement(s,{nav:!0,inNavbar:!0},l.createElement(r,{nav:!0,caret:!0,id:"profileDropDown"},l.createElement("img",{src:this.props.user.picture,alt:"Profile",className:"nav-user-profile rounded-circle",width:"50"})),l.createElement(n,null,l.createElement(c,{header:!0},this.props.user.name),l.createElement(c,{tag:o,to:"/profile",className:"dropdown-profile",activeClassName:"router-link-exact-active"},l.createElement("span",{className:"fa fa-user mr-3"})," Profile"),l.createElement(c,{id:"qsLogoutBtn",onClick:()=>this.props.authClient.logout()},l.createElement("span",{className:"fa fa-power-off mr-3"}),"Log out")))):this.props.authClientIsLoading?l.createElement(m,{outline:!0},l.createElement("span",{className:"fa fa-spinner fa-pulse fa-fw text-primary"})):null!=this.props.authClient?l.createElement(m,{outline:!0,onClick:this.doLogin},l.createElement("span",{className:"fa fa-sign-in fa-lg"}),"Login"):l.createElement(m,{outline:!0},l.createElement("span",{className:"fa fa-sign-in fa-lg"}),l.createElement("p",{className:"text-danger"},"Unable to reach Login Provider"))}}class ee extends l.Component{constructor(e){super(e),a(this,"toggle",(()=>setTooltipOpen(!tooltipOpen))),this.state={isTooltip:!1},this.toggleTT=this.toggleTT.bind(this)}toggleTT(){this.setState({isTooltip:!this.state.isTooltip})}render(){if(null!=this.props.items){const e=this.props.items.map((e=>e.quantity)).reduce(((e,t)=>e+t),0);return l.createElement(i,{to:"/cart"},l.createElement(m,{className:"btn btn-outline-white-primary"},l.createElement("span",{className:"fa fa-shopping-cart fa-lg"})," ","  "," ",e," ","  "," items"))}return this.props.isLoading?l.createElement(i,{to:"/cart"},l.createElement(m,{outline:!0},l.createElement("span",{className:"fa fa-spinner fa-pulse fa-fw text-primary"}))):null!=this.props.errMess?l.createElement(l.Fragment,null,l.createElement(m,{id:"errButt",outline:!0,onClick:this.doLogin},l.createElement("span",{className:"fa fa-error fa-lg"}),"Problem fetching cart"),l.createElement(d,{placement:"bottom",isOpen:this.state.isTooltip,target:"errButt",toggle:this.toggleTT},this.props.errMess)):l.createElement("div",null)}}class te extends l.Component{constructor(e){super(e),this.state={isNavOpen:!1,isModalOpen:!1,isCurrencyOpen:!1,currencyOptions:[{value:"USD",label:"USD"},{value:"YEN",label:"YEN"},{value:"DOGE",label:"DOGE"}]},this.toggleNav=this.toggleNav.bind(this),this.toggleModal=this.toggleModal.bind(this),this.toggleCurrency=this.toggleCurrency.bind(this)}toggleNav(){this.setState({isNavOpen:!this.state.isNavOpen})}toggleModal(){this.setState({isModalOpen:!this.state.isModalOpen})}toggleCurrency(){console.log("TOGGLE CURRENCY"),this.setState({isCurrencyOpen:!this.state.isCurrencyOpen})}render(){return l.createElement(l.Fragment,null,l.createElement(p,{light:!0,fixed:"top",expand:"md",className:"yamm justify-content-between"},l.createElement("div",{className:"container"},l.createElement(u,{onClick:this.toggleNav}),l.createElement(h,{href:"/"},l.createElement("img",{className:"d-none d-md-inline-block",src:"/shop/assets/logo.9b40b7fe.png",alt:"Acme Fitness"}),l.createElement("img",{className:"d-md-none",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAzCAMAAADivasmAAAANlBMVEUAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADl82K3AAAAEXRSTlMAABEiM0RVZneImbvM3eru+H88SI0AAACxSURBVEjH7dXJDsIwEANQJzR0aBsG///PcsiC4FKHA0Jqfaz0ZHWyIQwHJznJSUIIRpLkBS31wz5Zmoiukl4zUyZWSdaJx7cShdSaPEIcAK4cIZwBrDJZSDIDiSR9U0jKpWYlSVslMpPkNpXRaaRMaiuTE0lfD48q6QtikIm9NoFK6g426KTUeBwh0UneMEJg7dToJKY0YYz07JG/usdG8x3Jn7n7TkA5j0Z+8y/Hfvie85ojgOB41qkAAAAASUVORK5CYII=",alt:"Acme Fitness"})),l.createElement(E,{isOpen:this.state.isNavOpen,navbar:!0},l.createElement(g,{navbar:!0},l.createElement(v,null,l.createElement(o,{className:"nav-link",to:"/home",activeClassName:"active",z:!0},l.createElement("span",{className:"fa fa-home fa-lg"})," Home")),l.createElement(v,null,l.createElement(o,{className:"nav-link",to:"/catalog"},l.createElement("span",{className:"fa fa-list fa-lg"})," Catalog")),l.createElement(v,null,l.createElement(o,{className:"nav-link",to:"/contact"},l.createElement("span",{className:"fa fa-address-card fa-lg"})," Contact Us"))),l.createElement(g,{className:"ml-auto",navbar:!0},l.createElement("div",{className:"currency-area .d-sm-none .d-md-block"},l.createElement("select",{id:"currency",className:"form-control btn-outline-primary mr-1",defaultValue:"USD"},l.createElement("option",{value:"USD"},"USD"),l.createElement("option",{value:"GBP"},"GBP"),l.createElement("option",{value:"YEN"},"YEN")))),l.createElement(g,{className:"ml-1",navbar:!0},l.createElement(v,null,l.createElement(X,{authClient:this.props.authClient,authClientIsLoading:this.props.authClientIsLoading,authClientErr:this.props.authClientErr,user:this.props.user,userErr:this.props.userErr,storeUser:this.props.storeUser,fetchCartItems:this.props.fetchCartItems}))),l.createElement(g,{className:"ml-1",navbar:!0},l.createElement(v,null,l.createElement(ee,{items:this.props.cartItems,errMess:this.props.cartErr,isLoading:this.props.cartLoading})))))))}}class ae extends l.Component{constructor(e){super(e)}render(){return l.createElement(l.Fragment,null,l.createElement("div",{className:"footer"},l.createElement("div",{className:"container"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-lg-3 col-md-6"},l.createElement("h4",null,"Pages"),l.createElement("ul",null,l.createElement("li",null,l.createElement("a",{href:"text.html"},"About us")),l.createElement("li",null,l.createElement("a",{href:"text-left.html"},"Terms and conditions")),l.createElement("li",null,l.createElement("a",{href:"faq.html"},"FAQ")),l.createElement("li",null,l.createElement("a",{href:"contact.html"},"Contact us"))),l.createElement("hr",null),l.createElement("h4",null,"User section"),l.createElement("ul",null,l.createElement("li",null,l.createElement("a",{href:"#","data-toggle":"modal","data-target":"#login-modal"},"Login"))),l.createElement("hr",{className:"d-block d-lg-none"})),l.createElement("div",{className:"col-lg-3 col-md-6"},l.createElement("h4",null,"Where to find us"),l.createElement("p",null,l.createElement("strong",null,"ACME Fitness"),l.createElement("br",null),"5060 Fountain Ave",l.createElement("br",null),"Los Angeles",l.createElement("br",null),"California",l.createElement("br",null),l.createElement("strong",null,"USA")),l.createElement("a",{href:"contact.html"},"Go to contact page"),l.createElement("hr",{className:"d-block d-md-none"})),l.createElement("div",{className:"col-lg-3 col-md-6"},l.createElement("h4",null,"Get the news"),l.createElement("p",{className:"text-muted"},"What's new in the world of Fitness"),l.createElement("form",null,l.createElement("div",{className:"input-group"},l.createElement("input",{type:"text",className:"form-control"}),l.createElement("div",{className:"input-group-append"},l.createElement("button",{type:"button",className:"btn btn-outline-secondary"},l.createElement("i",{className:"fa fa-send"}))))),l.createElement("hr",null),l.createElement("h4",null,"Stay in touch"),l.createElement("p",{className:"social"},l.createElement("a",{href:"#"},l.createElement("i",{className:"fa fa-facebook-square"})),l.createElement("a",{href:"#"},l.createElement("i",{className:"fa fa-instagram"})),l.createElement("a",{href:"#"},l.createElement("i",{className:"fa fa-envelope"}))))))),l.createElement("div",{id:"copyright"},l.createElement("div",{className:"container"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-md-6 text-center text-md-left"},"Â© ",(new Date).getFullYear(),"  ACME Fitness ",l.createElement("a",{href:"index.html",className:"external"})),l.createElement("div",{className:"col-md-6 text-center text-md-right"},l.createElement("img",{src:"/shop/assets/payment.80b8ba8b.png",alt:"payments accepted"}))),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-md-6 text-center text-md-left"},l.createElement("strong",null,"This website is for demo purposes only. It is not an actual e-commerce site.")),l.createElement("div",{className:"col-md-6 text-center text-md-right"},l.createElement("strong",null,"Many thanks to ",l.createElement("a",{href:"https://bootstrapious.com"},"Bootstrapious")," for the original template."))))))}}const le=()=>l.createElement("div",{className:"col-12"},l.createElement("span",{className:"fa fa-spinner fa-pulse fa-3x fa-fw text-primary"}),l.createElement("p",null,"Loading . . .")),se=e=>null==e?"":e.startsWith("/")?"$$baseUrl".slice(0,-1)+e:e;function re({a:e,b:t,c:a,d:s}){return l.createElement("div",{className:"row"},e,t,a,s)}const ne=e=>{const[t,a]=l.useState(0),[s,r]=l.useState(!1),n=(c=e.items,o=c.map(((e,t)=>t)),m=o.map((e=>l.createElement("div",{className:"col-md-3 mb-3"},l.createElement(y,null,l.createElement(C,{src:se(c[e].imageUrl1),alt:c[e].name}))))),o.map((e=>l.createElement(re,{a:m[e],b:m[(e+1)%m.length],c:m[(e+2)%m.length],d:m[(e+3)%m.length]})))).map(((e,t)=>l.createElement(N,{onExiting:()=>r(!0),onExited:()=>r(!1),key:"item-"+t},e)));var c,o,m;return l.createElement(f,{activeIndex:t,next:()=>{if(s)return;const l=t===e.items.length-1?0:t+1;a(l)},previous:()=>{if(s)return;const l=0===t?e.items.length-1:t-1;a(l)},interval:"3000"},l.createElement(b,{items:e.items,activeIndex:t,onClickHandler:e=>{s||a(e)}}),n)};function ce({catalogItems:e,loading:t,errMsg:a}){return t?l.createElement("div",{className:"box text-center"},l.createElement(le,null)):null!=a?l.createElement("h4",{className:"text-danger"},"Unable to load catalog images: ",a):null==e?l.createElement("div",null):l.createElement(ne,{items:e})}class oe extends l.Component{constructor(e){super(e)}render(){return l.createElement(l.Fragment,null,l.createElement("div",{className:"container"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-12"},l.createElement(ce,{catalogItems:this.props.catalogItems,loading:this.props.catalogItemsLoading,errMsg:this.props.catalogItemsErrMess})))),l.createElement("div",{id:"all"},l.createElement("div",{id:"content"},l.createElement("div",{className:"container"},l.createElement("div",{id:"advantages"},l.createElement("div",{className:"box text-center"},l.createElement("h3",{className:"text-uppercase"},"About ACME Fitness"),l.createElement("div",{className:"same-height-row row"},l.createElement("div",{className:"col-md-3 col-6 justify-content-md-center align-items-md-center"},l.createElement("div",{className:"box no-border d-flex justify-content-center align-items-center"},l.createElement("div",{className:"icon"},l.createElement("i",{className:"fa fa-heart-o"})),l.createElement("h4",null,l.createElement("a",null,"Satisfied customers")))),l.createElement("div",{className:"col-md-3 col-6"},l.createElement("div",{className:"box no-border d-flex justify-content-center align-items-center"},l.createElement("div",{className:"icon"},l.createElement("i",{className:"fa fa-tags"})),l.createElement("h4",null,l.createElement("a",null,"Best prices")))),l.createElement("div",{className:"col-md-3 col-6"},l.createElement("div",{className:"box no-border d-flex justify-content-center align-items-center"},l.createElement("div",{className:"icon"},l.createElement("i",{className:"fa fa-send-o"})),l.createElement("h4",null,l.createElement("a",null,"Next day delivery")))),l.createElement("div",{className:"col-md-3 col-6"},l.createElement("div",{className:"box no-border d-flex justify-content-center align-items-center"},l.createElement("div",{className:"icon"},l.createElement("i",{className:"fa fa-refresh"})),l.createElement("h4",null,l.createElement("a",{href:"contact.html"},"Free returns for 3 months"))))))),l.createElement("div",{className:"box text-center"},l.createElement("h3",{className:"text-uppercase"},l.createElement("a",{href:"catalog.html"},"New Arrivals")),l.createElement("h4",{className:"text-muted"},l.createElement("span",{className:"accent"},"Free shipping")," on all"))),l.createElement("div",{className:"bar background-image-fixed-2 no-mb color-white text-center"},l.createElement("div",{className:"dark-mask"}),l.createElement("div",{className:"container"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-md-12"},l.createElement("div",{className:"icon icon-lg"},l.createElement("i",{className:"fa fa-file-code-o"})),l.createElement("h1",null,"Do you want to explore more?"),l.createElement("p",{className:"lead"},"We keep updating our inventory with exciting new products !!"),l.createElement("p",{className:"text-center"},l.createElement("a",{href:"catalog.html",className:"btn btn-outline-white-primary"},"FIND MORE IN CATALOG")))))))))}}function me({items:e}){var t=e.map((e=>l.createElement("div",{key:e.id,className:"col-md-3 col-sm-4 mb-3"},l.createElement(y,null,l.createElement(i,{to:`/product/${e.id}`},l.createElement(C,{width:"100%",src:se(e.imageUrl1),alt:e.name}),l.createElement(I,{className:"text"},l.createElement("h3",null,e.name)),l.createElement(w,{className:"price"},e.price),l.createElement("div",{className:"ribbon new"},l.createElement("div",{className:"theribbon"},"NEW"),l.createElement("div",{className:"ribbon-background"})),l.createElement("div",{className:"ribbon sale"},l.createElement("div",{className:"theribbon"},"SALE"),l.createElement("div",{className:"ribbon-background"})),l.createElement("div",{className:"ribbon gift"},l.createElement("div",{className:"theribbon"},"GIFT"),l.createElement("div",{className:"ribbon-background"})))))));return l.createElement("div",{id:"rowProducts",className:"row products"},t)}class ie extends l.Component{constructor(e){super(e)}render(){return this.props.isLoading?l.createElement("div",{className:"box text-center"},l.createElement(le,null)):null!=this.props.errMess?l.createElement("div",{className:"container"},l.createElement("div",{className:"row"},l.createElement("h4",{className:"text-danger"},"Error loading products: ",this.props.errMess))):null==this.props.catalogItems?l.createElement("div",null):l.createElement(l.Fragment,null,l.createElement("div",{id:"all"},l.createElement("div",{id:"content"},l.createElement("div",{className:"container"},l.createElement(A,{className:"d-flex justify-content-md-end justify-content-center "},l.createElement(x,null,l.createElement(i,{to:"/home"},"Home")),l.createElement(x,{active:!0},"Catalog  ")),l.createElement("div",{className:"box text-center"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-md-10 offset-md-1"},l.createElement("h1",null,"Products"),l.createElement("p",{className:"text-muted"},"Best in Class Products to keep you fit"))),l.createElement("div",{className:"info-bar"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-lg-4 products-showing"},"Showing ",l.createElement("strong",null,"8")," of ",l.createElement("strong",null,"8")," products"),l.createElement("div",{className:"col-lg-8 products-number-sort"},l.createElement("form",{className:"form-inline"}),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-6 col-lg-7"},l.createElement("div",{className:"products-number"},l.createElement("strong",null,"Show"),l.createElement("a",{href:"#",className:"btn btn-sm btn-outline-primary mr-1"},"12")," ",l.createElement("a",{href:"#",className:"btn btn-outline-secondary btn-sm mr-1"},"24")," ",l.createElement("a",{href:"#",className:"btn btn-outline-secondary btn-sm mr-1"},"All")," products")),l.createElement("div",{className:"col-6 col-lg-5"},l.createElement("div",{className:"products-sort-by d-flex justify-content-end"},l.createElement("strong",null,"Sort by"),l.createElement("select",{name:"sort-by",className:"form-control form-control-sm"},l.createElement("option",null,"Price"),l.createElement("option",null,"Name")))))))),l.createElement(me,{items:this.props.catalogItems}))))))}}class de extends l.Component{constructor(e){super(e)}componentDidMount(){}render(){return l.createElement(l.Fragment,null,l.createElement("div",{id:"all"},l.createElement("div",{id:"content"},l.createElement("div",{className:"container"},l.createElement(A,{className:"d-flex justify-content-md-end justify-content-center "},l.createElement(x,null,l.createElement(i,{to:"/home"},"Home")),l.createElement(x,{active:!0},"Contact")),l.createElement("div",{className:"box text-center"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-md-10 offset-md-1"},l.createElement("h1",null,"Contact"),l.createElement("p",{className:"lead"},"Are you curious about something? Do you have some kind of problem with our products?"),l.createElement("p",null,"Please feel free to contact us, our customer service center is working for you 24/7.")))),l.createElement("div",{id:"contact",className:"box"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-md-4"},l.createElement("h3",null,l.createElement("i",{className:"fa fa-map-marker"})," Address"),l.createElement("p",null,"2705 Thunder Road ",l.createElement("br",null)," Palo Alto ",l.createElement("br",null)," 94309",l.createElement("br",null)," CA",l.createElement("br",null),l.createElement("strong",null,"United States"))),l.createElement("div",{className:"col-md-4"},l.createElement("h3",null,l.createElement("i",{className:"fa fa-phone"})," Call center"),l.createElement("p",{className:"text-muted"},"This number is toll free if calling from Great Britain otherwise we advise you to use the electronic form of communication."),l.createElement("p",null,l.createElement("strong",null,"+1-650-123-4567"))),l.createElement("div",{className:"col-md-4"},l.createElement("h3",null,l.createElement("i",{className:"fa fa-envelope"})," Electronic support"),l.createElement("p",{className:"text-muted"},"Please feel free to write an email to us or to use our electronic ticketing system."),l.createElement("ul",null,l.createElement("li",null,l.createElement("strong",null,l.createElement("a",{href:"mailto:"},"hello@beyondvirtual.io")))))),l.createElement("h2",{className:"text-center"},"Contact form"),l.createElement("form",null,l.createElement("div",{className:"row"},l.createElement("div",{className:"col-lg-10 offset-lg-1"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-md-6"},l.createElement("div",{className:"form-group"},l.createElement("label",{htmlFor:"firstname"},"Firstname"),l.createElement("input",{name:"firstname",type:"text",className:"form-control"}))),l.createElement("div",{className:"col-md-6"},l.createElement("div",{className:"form-group"},l.createElement("label",{htmlFor:"lastname"},"Lastname"),l.createElement("input",{name:"lastname",type:"text",className:"form-control"}))),l.createElement("div",{className:"col-md-6"},l.createElement("div",{className:"form-group"},l.createElement("label",{htmlFor:"email"},"Email"),l.createElement("input",{name:"email",type:"text",className:"form-control"}))),l.createElement("div",{className:"col-md-6"},l.createElement("div",{className:"form-group"},l.createElement("label",{htmlFor:"subject"},"Subject"),l.createElement("input",{name:"subject",type:"text",className:"form-control"})))),l.createElement("div",{className:"form-group"},l.createElement("label",{htmlFor:"message"},"Message"),l.createElement("textarea",{name:"message",className:"form-control"})),l.createElement("div",{className:"text-center"},l.createElement("button",{type:"submit",className:"btn btn-primary"},l.createElement("i",{className:"fa fa-envelope-o"})," Send message"))))))))))}}var pe="dev-cfvgaq3v.us.auth0.com",ue="vRqn63JkDqYhjjqJod4enxppoVXbDtNM",he="https://acme-fitness/test";const Ee=()=>e=>(e(Ce()),T.get("$$catalogUrlproducts").then((e=>{if(200==e.status)return e.data.data;var t=new Error("Error: "+e.status+": "+e.statusText);throw t.response=e,t}),(e=>{if(e.response)throw new Error(e.response.data);throw new Error(e)})).then((t=>e(Oe(t)))).catch((t=>e(Me(t.message))))),ge=()=>e=>{console.log("FETCH AUTH CLIENT");const a=t({domain:pe,clientId:ue},{audience:he});e(xe()),k({domain:a.domain,client_id:a.clientId,audience:a.audience}).then((t=>{e(Ue(t)),t.getUser().then((a=>{null!=a&&(e(Pe(a)),e(Ne(t)))})),e(ve(t))})).catch((t=>e(De(t.message))))},ve=e=>t=>(t(Ie()),e.getTokenSilently().then((e=>{t(Re(e))})).catch((e=>{t(Le(e))}))),Ne=e=>fe(e),fe=e=>t=>{t(Ae()),e.getTokenSilently().then((e=>{const a={headers:{Authorization:`Bearer ${e}`}};return T.get("$$cartUrlcart/items",a).then((e=>{if(console.log(e),e.status>=200&&e.status<=299)return console.log("response: "),console.log(e),console.log("data"),console.log(e.data),console.log("cart"),console.log(e.data.cart),e.data.cart;var t=new Error("Error: "+e.status+": "+e.statusText);throw t.response=e,t}),(e=>{throw new Error(e.message)})).then((e=>{console.log("in the .then"),console.log(e),t(Fe(e))})).catch((e=>t(Se(e.message))))})).catch((e=>{console.log("cart error"),console.log(e),t(Fe(null))}))},be=(e,t)=>(console.log("postCartData"),console.log(t),ye(e,t)),ye=(e,t)=>a=>{a(Ae());const l={headers:{Authorization:`Bearer ${e}`}};return T.post("$$cartUrlcart/modify",t,l).then((e=>{if(console.log(e),200==e.status)return console.log("response: "),console.log(e),console.log("data"),console.log(e.data),console.log("cart"),console.log(e.data.cart),e.data.cart;var t=new Error("Error: "+e.status+": "+e.statusText);throw t.response=e,t}),(e=>{throw new Error(e.message)})).then((e=>{console.log("in the .then"),console.log(e),a(Fe(e))})).catch((e=>a(Se(e.message))))},Ce=()=>({type:"CATALOG_ITEMS_LOADING"}),Ae=()=>({type:"CART_ITEMS_LOADING"}),xe=()=>({type:"AUTH_CLIENT_LOADING"}),Ie=()=>({type:"TOKEN_LOADING"}),we=()=>({type:"ORDER_LOADING"}),Te=()=>({type:"ORDER_SUCCESS"}),ke=e=>({type:"ORDER_ERROR",payload:e}),Me=e=>({type:"CATALOG_ITEMS_FAILED",payload:e}),Se=e=>({type:"CART_ITEMS_FAILED",payload:e}),De=e=>({type:"AUTH_CLIENT_FAILED",payload:e}),Le=e=>({type:"TOKEN_ERROR",payload:e}),Oe=e=>({type:"ADD_CATALOG_ITEMS",payload:e}),Fe=e=>({type:"ADD_CART_ITEMS",payload:e}),Ue=e=>({type:"STORE_AUTH_CLIENT",payload:e}),Pe=e=>({type:"STORE_USER",payload:e}),Re=e=>({type:"SET_TOKEN",payload:e});class _e extends l.Component{constructor(e){super(e),this.addToCart=this.addToCart.bind(this)}addToCart(){var e=this.props.cartItems.cartItems;console.log("new cart"),console.log(e),null==e&&(e=[]);for(var t=0;t<e.length;t++){var a=e[t];if(a.itemid===this.props.item.id)return a.quantity=a.quantity+1,void this.props.postCartData(this.props.authToken,{cart:e})}e.push({itemid:this.props.item.id,name:this.props.item.name,price:this.props.item.price,quantity:1,shortDescription:this.props.item.shortDescription,cartImg:this.props.item.imageUrl5}),this.props.postCartData(this.props.authToken,{cart:e})}render(){console.log("Prod detail"),console.log(this.props);const e=()=>{const e=this.props.item;return l.createElement(y,null,l.createElement(C,{width:"100%",src:se(e.imageUrl1),alt:e.name}),l.createElement("div",{className:"ribbon new"},l.createElement("div",{className:"theribbon"},"NEW"),l.createElement("div",{className:"ribbon-background"})),l.createElement("div",{className:"ribbon sale"},l.createElement("div",{className:"theribbon"},"SALE"),l.createElement("div",{className:"ribbon-background"})),l.createElement("div",{className:"ribbon gift"},l.createElement("div",{className:"theribbon"},"GIFT"),l.createElement("div",{className:"ribbon-background"})))};return this.props.isLoading?l.createElement("div",{className:"box text-center"},l.createElement(le,null)):null!=this.props.errMess?l.createElement("div",{className:"container"},l.createElement("div",{className:"row"},l.createElement("h4",{className:"text-danger"},"Error loading products: ",this.props.errMess))):null==this.props.item?l.createElement("div",null):l.createElement(l.Fragment,null,l.createElement("div",{id:"all"},l.createElement("div",{id:"content"},l.createElement("div",{className:"container"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-12"},l.createElement(A,{className:"d-flex justify-content-md-end justify-content-center "},l.createElement(x,null,l.createElement(i,{to:"/catalog"},"Catalog")),l.createElement(x,{active:!0},this.props.item.name)))),l.createElement("div",{className:"box text-center"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-md-10 offset-md-1"},l.createElement("h1",{id:"productTitle"},this.props.item.name),l.createElement("p",{className:"text-muted",id:"descriptionTitle"},this.props.item.shortDescription),l.createElement("p",{className:"goToDescription"},l.createElement("a",{href:"#details",className:"scroll-to"},"Scroll to product details"))))),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-lg-9"},l.createElement("div",{id:"productMain",className:"row"},l.createElement("div",{className:"col-md-6"},l.createElement(e,null)),l.createElement("div",{className:"col-md-6"},l.createElement("div",{className:"box"},l.createElement("div",{className:"sizes"},l.createElement("h3",null,"Available Now")),l.createElement("p",{id:"productPrice",className:"price"},this.props.item.price),l.createElement("p",{className:"text-center"},this.props.cartItems.isLoading&&l.createElement(le,null),null!=this.props.cartItems.errMess&&l.createElement("span",{className:"text-danger"},"Error loading cart: ",this.props.cartItems.errMess),null!=this.props.cartItems.cartItems&&l.createElement("button",{id:"addToCart",className:"btn btn-primary",onClick:this.addToCart},l.createElement("i",{className:"fa fa-shopping-cart"})," Add to cart"),l.createElement("button",{"data-toggle":"tooltip","data-placement":"top",title:"Add to wishlist",className:"btn btn-outline-secondary"},l.createElement("i",{className:"fa fa-heart-o"})))),l.createElement("div",{id:"thumbs",className:"row"},l.createElement("div",{className:"col-4"},l.createElement("a",{href:"#",className:"thumb"},l.createElement("img",{id:"thumbImg1",src:se(this.props.item.imageUrl2),alt:this.props.item.name,className:"img-fluid"}))),l.createElement("div",{className:"col-4"},l.createElement("a",{href:"#",className:"thumb"},l.createElement("img",{id:"thumbImg2",src:se(this.props.item.imageUrl3),alt:this.props.item.name,className:"img-fluid"}))),l.createElement("div",{className:"col-4"},l.createElement("a",{href:"#",className:"thumb"},l.createElement("img",{id:"thumbImg3",src:se(this.props.item.imageUrl4),alt:this.props.item.name,className:"img-fluid"})))))),l.createElement("div",{id:"details",className:"box"},l.createElement("p",null),l.createElement("h4",null,"Product details"),l.createElement("p",{id:"detailedDescription"},this.props.item.description),l.createElement("blockquote",null,l.createElement("p",null,l.createElement("em",null,"Stay Fit with ACME Fitness")))),l.createElement("div",{id:"product-social",className:"box social"},l.createElement("h4",null,"Show it to your friends"),l.createElement("p",null,l.createElement("a",{href:"#","data-animate-hover":"pulse",className:"external facebook"},l.createElement("i",{className:"fa fa-facebook"})),l.createElement("a",{href:"#","data-animate-hover":"pulse",className:"external twitter"},l.createElement("i",{className:"fa fa-twitter"})),l.createElement("a",{href:"#","data-animate-hover":"pulse",className:"email"},l.createElement("i",{className:"fa fa-envelope"}))))))))))}}var je=M((e=>({cartItems:e.cartItems})),(e=>({postCartData:(t,a)=>e(be(t,a))})))(_e);class Ge extends l.Component{constructor(e){super(e),a(this,"highlight",(()=>{this.codeNode&&this.codeNode.current&&D.highlightBlock(this.codeNode.current)})),this.state={loaded:!1},this.codeNode=l.createRef()}componentDidMount(){this.setState({loaded:!0})}componentDidUpdate(){this.highlight()}render(){const{language:e,children:t}=this.props,{loaded:a}=this.state;return a?l.createElement("pre",{className:"rounded"},l.createElement("code",{ref:this.codeNode,className:e},t)):null}}Ge.propTypes={children:S.node.isRequired,language:S.string},Ge.defaultProps={language:"json"};class He extends l.Component{constructor(e){super(e)}componentDidMount(){this.props.authToken.isLoading||null!=this.props.authToken.errMess||null!=this.props.authToken.authToken||(console.log("************ CDM"),this.props.getToken(this.props.authClient))}render(){return l.createElement(L,{className:"mb-5"},l.createElement(O,{className:"align-items-center profile-header mb-5 text-center text-md-left"},l.createElement(F,{md:2},l.createElement("img",{src:this.props.user.picture,alt:"Profile",className:"rounded-circle img-fluid profile-picture mb-3 mb-md-0"})),l.createElement(F,{md:!0},l.createElement("h2",null,this.props.user.name),l.createElement("p",{className:"lead text-muted"},this.props.user.email))),l.createElement(O,null,l.createElement(Ge,null,JSON.stringify(this.props.user,null,2))),null!=this.props.authToken&&l.createElement(O,null,l.createElement(Ge,null,JSON.stringify({"auth token":this.props.authToken},null,2))))}}var $e=M((e=>({authToken:e.authToken})),(e=>({getToken:t=>{console.log("---Get Token"),e(ve(t))}})))(He);const qe=({item:e,itemChange:t,remove:a,updateCart:s})=>l.createElement("div",{className:"row mt-5",key:e.itemid},l.createElement("div",{className:"col-1"},l.createElement(i,{to:`/product/${e.itemid}`},l.createElement("img",{src:se(e.cartImg)}))),l.createElement("div",{className:"col-2 align-middle"},l.createElement(i,{to:`/product/${e.itemid}`},l.createElement("p",{className:"mt-2"},e.name))),l.createElement("div",{className:"col-2 align-middle"},l.createElement("input",{name:e.itemid,placeholder:"0",type:"number",style:{width:"4em"},value:e.quantity,className:"mt-2",onChange:t})),l.createElement("div",{className:"col-2 align-middle"},l.createElement("p",{className:"mt-2"},e.price)),l.createElement("div",{className:"col-2 align-middle"},l.createElement("p",{className:"mt-2"},"$0.00")),l.createElement("div",{className:"col-2 align-middle"},l.createElement("p",{className:"mt-2"},(e.price*e.quantity).toFixed(2))),l.createElement("div",{className:"col-1 align-middle"},l.createElement("button",{type:"button",className:"secondary",onClick:()=>{console.log("buttonclick"),a(e)}},l.createElement("span",{className:"fa fa-trash-o"}))));function Be(e){const t={};return e.forEach((e=>{t[e.itemid]=e})),new U(t)}class Ve extends l.Component{constructor(e){super(e),a(this,"updateCart",(()=>{console.log("updatecart"),this.props.postCartData(this.props.authToken,{cart:this.state.cartMap.valueSeq().toJS()})})),a(this,"updateAndProceed",(e=>{console.log("update and proceed"),console.log(e),console.log("state"),console.log(this.state),console.log("cartmap..."),console.log(this.state.cartMap),e.preventDefault(),console.log("cartmap-deser..."),console.log(this.state.cartMap.valueSeq().toJS()),this.props.postCartData(this.props.authToken,{cart:this.state.cartMap.valueSeq().toJS()}).then((e=>{console.log("back from promise"),console.log(e),this.props.history.push("/checkout/address")}))})),a(this,"totalFromProps",(()=>{var e=0;return this.props.cartItems.forEach((t=>{e+=Number(t.quantity)*Number(t.price)})),"$"+e.toFixed(2)})),a(this,"itemChange",(e=>t=>{const a=this.state.cartMap,l=P._.cloneDeep(e);l.quantity=t.target.value;const s=a.set(e.itemid,l);this.setState({cartMap:s})})),a(this,"remove",(e=>t=>{console.log("remove");const a=this.state.cartMap.remove(e.itemid);this.setState({cartMap:a},this.updateCart)})),this.totalFromProps=this.totalFromProps.bind(this),this.updateCart=this.updateCart.bind(this),this.updateAndProceed=this.updateAndProceed.bind(this),null!=e.cartItems?(console.log("setting state in ctor"),this.state={cartMap:Be(e.cartItems)}):this.state={}}componentDidUpdate(e,t){console.log("CDU"),null==e.cartItems&&null!=this.props.cartItems&&(console.log("Updating state in CDU"),this.setState({cartMap:Be(this.props.cartItems)}))}render(){if(console.log("Render: "),console.log(this.props.cartItems),this.props.isLoading)return l.createElement("div",{id:"all"},l.createElement("div",{id:"content"},l.createElement("div",{className:"container"},l.createElement(A,{className:"d-flex justify-content-md-end justify-content-center "},l.createElement(x,null,l.createElement(i,{to:"/home"},"Home")),l.createElement(x,{active:!0},"Cart")),l.createElement("div",{className:"box text-center"},l.createElement(le,null)))));if(null!=this.props.errMess)return l.createElement("div",{id:"all"},l.createElement("div",{id:"content"},l.createElement("div",{className:"container"},l.createElement(A,{className:"d-flex justify-content-md-end justify-content-center "},l.createElement(x,null,l.createElement(i,{to:"/home"},"Home")),l.createElement(x,{active:!0},"Cart  ")),l.createElement("h4",{className:"text-danger"},"Error loading cart: ",this.props.errMess))));if(null==this.props.cartItems)return l.createElement("div",{id:"all"},l.createElement("div",{id:"content"},l.createElement("div",{className:"container"},l.createElement(A,{className:"d-flex justify-content-md-end justify-content-center "},l.createElement(x,null,l.createElement(i,{to:"/home"},"Home")),l.createElement(x,{active:!0},"Cart  ")),l.createElement("div",null))));var e=null;return null!=this.state.cartMap&&(e=this.state.cartMap.entrySeq().map((([e,t],a)=>l.createElement(qe,{key:e,item:t,itemChange:this.itemChange(t),remove:this.remove(t),updateCart:this.updateCart})))),l.createElement(l.Fragment,null,l.createElement("div",{id:"all"},l.createElement("div",{id:"content"},l.createElement("div",{className:"container"},l.createElement(A,{className:"d-flex justify-content-md-end justify-content-center "},l.createElement(x,null,l.createElement(i,{to:"/home"},"Home")),l.createElement(x,{active:!0},"Cart  ")),l.createElement("div",{className:"box text-center"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-md-10 offset-md-1"},l.createElement("h1",null,"Your Shopping cart awaits! "),l.createElement("p",{className:"text-muted"},l.createElement("strong",{id:"cartText"}))))),l.createElement("div",{className:"row"},l.createElement("div",{id:"basket",className:"col-lg-9"},l.createElement("div",{className:"box"},l.createElement("div",{className:"table-responsive"},l.createElement("div",{id:"table-outer"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-3"},l.createElement("strong",null,"Item")),l.createElement("div",{className:"col-2"},l.createElement("strong",null,"Quantity")),l.createElement("div",{className:"col-2"},l.createElement("strong",null,"Unit price")),l.createElement("div",{className:"col-2"},l.createElement("strong",null,"Discount")),l.createElement("div",{className:"col-3"},l.createElement("strong",null,"Total"))),e)),l.createElement("div",{className:"box-footer"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-4"},l.createElement(i,{to:"/catalog"},l.createElement(m,{className:"btn btn-outline-white-secondary text-left"},l.createElement("i",{className:"fa fa-chevron-left"}),"Continue shopping"))),l.createElement("div",{className:"col-4 text-center"},l.createElement(m,{className:"btn btn-outline-white-secondary text-center",onClick:()=>this.updateCart()},l.createElement("i",{className:"fa fa-chevron-up"}),"Update Total")),l.createElement("div",{className:"col-4"},l.createElement(m,{className:"btn btn-outline-white-primary text-right",onClick:this.updateAndProceed},"Proceed to checkout",l.createElement("i",{className:"fa fa-chevron-right"}))))))),l.createElement("div",{className:"col-lg-3"},l.createElement("div",{id:"order-summary",className:"box"},l.createElement("div",{className:"box-header"},l.createElement("h3",null,"Order summary")),l.createElement("p",{className:"text-muted"},"Shipping and additional costs are calculated based on the values you have entered."),l.createElement("div",{className:"table-responsive"},l.createElement("table",{className:"table"},l.createElement("tbody",null,l.createElement("tr",null,l.createElement("td",null,"Order subtotal"),l.createElement("th",null,this.totalFromProps())),l.createElement("tr",null,l.createElement("td",null,"Shipping and handling"),l.createElement("th",null,"$0.00")),l.createElement("tr",null,l.createElement("td",null,"Tax"),l.createElement("th",null,"$0.00")),l.createElement("tr",{className:"total"},l.createElement("td",null,"Total"),l.createElement("th",null,this.totalFromProps())))))),l.createElement("div",{className:"box"},l.createElement("div",{className:"box-header"},l.createElement("h4",null,"Coupon code")),l.createElement("p",{className:"text-muted"},"If you have a coupon code, please enter it in the box below."),l.createElement("form",null,l.createElement("div",{className:"input-group"},l.createElement("input",{type:"text",className:"form-control"}),l.createElement("div",{className:"input-group-append"},l.createElement("button",{type:"button",className:"btn btn-outline-primary"}," ",l.createElement("i",{className:"fa fa-gift"}))))))))))))}}class Je extends l.Component{constructor(e){super(e),a(this,"itemChange",(e=>t=>{console.log("item change"),console.log(e),this.setState({delivery:e})})),a(this,"updateAndProceed",(e=>t=>{console.log("update and proceed"),console.log(t),console.log(e),t.preventDefault(),this.props.setDelivery(this.state.delivery),this.props.history.push(e)})),console.log(e),this.itemChange=this.itemChange.bind(this),this.updateAndProceed=this.updateAndProceed.bind(this),this.state={delivery:this.props.delivery}}render(){return l.createElement(l.Fragment,null,l.createElement("div",{className:"content"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-md-6"},l.createElement("div",{className:"box shipping-method"},l.createElement("h4",null,"Sean's Tractor"),l.createElement("p",null,"Get it slowly, but with a free strip of freshly cut grass ... or other surface"),l.createElement("div",{className:"box-footer text-center"},l.createElement("input",{type:"radio",name:"delivery",value:"tractor",checked:"tractor"===this.state.delivery,onChange:this.itemChange("tractor")})))),l.createElement("div",{className:"col-md-6"},l.createElement("div",{className:"box shipping-method"},l.createElement("h4",null,"Rob's 2011 Honda Element"),l.createElement("p",null,"Generally faster unless the temp is below 55deg Farenheit, in which case it won't be arriving until the LA Spring thaw."),l.createElement("div",{className:"box-footer text-center"},l.createElement("input",{type:"radio",name:"delivery",value:"element",checked:"tractor"!==this.state.delivery,onChange:this.itemChange("element")})))))),l.createElement("div",{className:"box-footer"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-4"},l.createElement(m,{className:"btn btn-outline-white-primary text-right",onClick:this.updateAndProceed("/checkout/address")},l.createElement("i",{className:"fa fa-chevron-left"}),"Back to Address")),l.createElement("div",{className:"col-4 offset-4"},l.createElement(m,{className:"btn btn-outline-white-primary text-right",onClick:this.updateAndProceed("/checkout/payment")},"Payment Options",l.createElement("i",{className:"fa fa-chevron-right"}))))))}}const Ye=[{value:"01",label:"01"},{value:"02",label:"02"},{value:"03",label:"03"},{value:"04",label:"04"},{value:"05",label:"05"},{value:"06",label:"06"},{value:"07",label:"07"},{value:"08",label:"08"},{value:"09",label:"09"},{value:"10",label:"10"},{value:"11",label:"11"},{value:"12",label:"12"}],Ke=[{value:"2021",label:"2021"},{value:"2022",label:"2022"},{value:"2023",label:"2023"},{value:"2024",label:"2024"},{value:"2025",label:"2025"},{value:"2026",label:"2026"},{value:"2027",label:"2027"},{value:"2028",label:"2028"},{value:"2029",label:"2029"}],We=[{value:"amex",label:"American Express"},{value:"mc",label:"Mastercard"},{value:"visa",label:"Visa"}];class ze extends l.Component{constructor(e){super(e),a(this,"itemChange",(e=>{console.log("item change");const t=this.state.payment,a=e.target.name,l=e.target.value,s=new U(t).set(a,l).toJS();console.log(s),this.setState({payment:s})})),a(this,"selectChange",(e=>t=>{console.log("select change");const a=this.state.payment,l=e,s=t,r=new U(a).set(l,s).toJS();console.log(r),this.setState({payment:r})})),a(this,"updateAndProceed",(e=>t=>{console.log("update and proceed"),console.log(t),console.log(e),t.preventDefault(),this.props.setPayment(this.state.payment),this.props.history.push(e)})),this.itemChange=this.itemChange.bind(this),this.selectChange=this.selectChange.bind(this),this.updateAndProceed=this.updateAndProceed.bind(this),this.state={payment:this.props.payment}}render(){return l.createElement(l.Fragment,null,l.createElement("div",{className:"content"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-md-6"},l.createElement("div",{className:"form-group"},l.createElement("label",{htmlFor:"cardtype"},"Card Type"),l.createElement(R,{name:"cardtype",options:We,onChange:this.selectChange("cardtype"),value:this.props.payment.cardtype}))),l.createElement("div",{className:"col-md-6"},l.createElement("div",{className:"form-group"},l.createElement("label",{htmlFor:"cardnum"},"Credit Card Number"),l.createElement("input",{name:"cardnum",type:"text",className:"form-control",onChange:this.itemChange,defaultValue:this.props.payment.cardnum}))))),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-md-6"},l.createElement("div",{className:"form-group"},l.createElement("label",{htmlFor:"ccv"},"CCV"),l.createElement("input",{name:"ccv",type:"text",className:"form-control",onChange:this.itemChange,defaultValue:this.props.payment.ccv}))),l.createElement("div",{className:"col-md-6 col-lg-3"},l.createElement("div",{className:"form-group"},l.createElement("label",{htmlFor:"expmonth"},"Expiration Month"),l.createElement(R,{name:"expmonth",options:Ye,onChange:this.selectChange("expmonth"),value:this.props.payment.expmonth}))),l.createElement("div",{className:"col-md-6 col-lg-3"},l.createElement("div",{className:"form-group"},l.createElement("label",{htmlFor:"expyear"},"Expiration Year"),l.createElement(R,{name:"expyear",options:Ke,onChange:this.selectChange("expyear"),value:this.props.payment.expyear})))),l.createElement("div",{className:"box-footer"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-4"},l.createElement(m,{className:"btn btn-outline-white-primary text-right",onClick:this.updateAndProceed("/checkout/delivery")},l.createElement("i",{className:"fa fa-chevron-left"}),"Back to Delivery")),l.createElement("div",{className:"col-4 offset-4"},l.createElement(m,{className:"btn btn-outline-white-primary text-right",onClick:this.updateAndProceed("/checkout/review")},"Review Order",l.createElement("i",{className:"fa fa-chevron-right"}))))))}}const Ze=({item:e})=>l.createElement("div",{className:"row mt-5",key:e.itemid},l.createElement("div",{className:"col-1"},l.createElement(i,{to:`/product/${e.itemid}`},l.createElement("img",{src:se(e.cartImg)}))),l.createElement("div",{className:"col-2 align-middle"},l.createElement(i,{to:`/product/${e.itemid}`},l.createElement("p",{className:"mt-2"},e.name))),l.createElement("div",{className:"col-2 align-middle"},l.createElement("p",{className:"mt-2"},e.quantity)),l.createElement("div",{className:"col-2 align-middle"},l.createElement("p",{className:"mt-2"},e.price)),l.createElement("div",{className:"col-2 align-middle"},l.createElement("p",{className:"mt-2"},"$0.00")),l.createElement("div",{className:"col-3 align-middle"},l.createElement("p",{className:"mt-2"},(e.price*e.quantity).toFixed(2))));class Qe extends l.Component{constructor(e){super(e),a(this,"totalFromProps",(()=>"$"+this.rawTotalFromProps().toFixed(2))),a(this,"rawTotalFromProps",(()=>{var e=0;return null!=this.props.cartItems&&this.props.cartItems.forEach((t=>{e+=Number(t.quantity)*Number(t.price)})),e})),a(this,"submitOrder",(e=>{e.preventDefault(),this.props.address,this.props.payment,this.props.delivery;const t={card:{number:this.props.payment.cardnum,expYear:this.props.payment.expyear.value,expMonth:this.props.payment.expmonth.value,ccv:this.props.payment.ccv},total:this.rawTotalFromProps(),firstname:this.props.address.firstname,lastname:this.props.address.lastname,address:this.props.address};this.props.postOrder(t,this.props.authToken,(()=>{this.props.history.push("/transaction")}))})),this.submitOrder=this.submitOrder.bind(this),this.totalFromProps=this.totalFromProps.bind(this),this.rawTotalFromProps=this.rawTotalFromProps.bind(this)}render(){var e=null;return null!=this.props.cartItems&&(e=this.props.cartItems.map(((e,t)=>l.createElement(Ze,{key:e.itemid,item:e})))),l.createElement(l.Fragment,null,l.createElement("div",{className:"content"},l.createElement("div",{className:"box"},l.createElement("div",{className:"table-responsive"},l.createElement("div",{id:"table-outer"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-3"},l.createElement("strong",null,"Item")),l.createElement("div",{className:"col-2"},l.createElement("strong",null,"Quantity")),l.createElement("div",{className:"col-2"},l.createElement("strong",null,"Unit price")),l.createElement("div",{className:"col-2"},l.createElement("strong",null,"Discount")),l.createElement("div",{className:"col-3"},l.createElement("strong",null,"Total"))),e,l.createElement("div",{className:"row mt-2"},l.createElement("div",{className:"col"},l.createElement("hr",null))),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-3"},l.createElement("strong",null,"Total")),l.createElement("div",{className:"col-3 offset-6"},l.createElement("strong",null,this.totalFromProps())))))),l.createElement("div",{className:"box-footer"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-4"},l.createElement(i,{to:"/checkout/payment"},l.createElement(m,{className:"btn btn-outline-white-primary text-right"},l.createElement("i",{className:"fa fa-chevron-left"}),"Back to Payment"))),l.createElement("div",{className:"col-4 offset-4"},l.createElement(m,{className:"btn btn-outline-white-primary text-right",onClick:this.submitOrder},"Submit Order",l.createElement("i",{className:"fa fa-chevron-right"})))))))}}const Xe=[{value:"AL",label:"Alabama"},{value:"AK",label:"Alaska"},{value:"AZ",label:"Arizona"},{value:"AR",label:"Arkansas"},{value:"CA",label:"California"},{value:"CO",label:"Colorado"},{value:"CT",label:"Connecticut"},{value:"DE",label:"Delaware"},{value:"DC",label:"District Of Columbia"},{value:"FL",label:"Florida"},{value:"GA",label:"Georgia"},{value:"HI",label:"Hawaii"},{value:"ID",label:"Idaho"},{value:"IL",label:"Illinois"},{value:"IN",label:"Indiana"},{value:"IA",label:"Iowa"},{value:"KS",label:"Kansas"},{value:"KY",label:"Kentucky"},{value:"LA",label:"Louisiana"},{value:"ME",label:"Maine"},{value:"MD",label:"Maryland"},{value:"MA",label:"Massachusetts"},{value:"MI",label:"Michigan"},{value:"MN",label:"Minnesota"},{value:"MS",label:"Mississippi"},{value:"MO",label:"Missouri"},{value:"MT",label:"Montana"},{value:"NE",label:"Nebraska"},{value:"NV",label:"Nevada"},{value:"NH",label:"New Hampshire"},{value:"NJ",label:"New Jersey"},{value:"NM",label:"New Mexico"},{value:"NY",label:"New York"},{value:"NC",label:"North Carolina"},{value:"ND",label:"North Dakota"},{value:"OH",label:"Ohio"},{value:"OK",label:"Oklahoma"},{value:"OR",label:"Oregon"},{value:"PA",label:"Pennsylvania"},{value:"RI",label:"Rhode Island"},{value:"SC",label:"South Carolina"},{value:"SD",label:"South Dakota"},{value:"TN",label:"Tennessee"},{value:"TX",label:"Texas"},{value:"UT",label:"Utah"},{value:"VT",label:"Vermont"},{value:"VA",label:"Virginia"},{value:"WA",label:"Washington"},{value:"WV",label:"West Virginia"},{value:"WI",label:"Wisconsin"},{value:"WY",label:"Wyoming"}];class et extends l.Component{constructor(e){console.log("Address CTOR"),super(e),a(this,"itemChange",(e=>{console.log("item change");const t=this.state.address,a=e.target.name,l=e.target.value,s=new U(t).set(a,l).toJS();console.log(s),this.setState({address:s})})),a(this,"selectChange",(e=>t=>{console.log("serlect change");const a=this.state.address,l=e,s=t,r=new U(a).set(l,s).toJS();console.log(r),this.setState({address:r})})),a(this,"updateAndProceed",(e=>t=>{console.log("update and proceed"),console.log(t),console.log(e),t.preventDefault(),this.props.setAddress(this.state.address),this.props.history.push(e)})),this.state={address:this.props.address},this.itemChange=this.itemChange.bind(this),this.updateAndProceed=this.updateAndProceed.bind(this),this.selectChange=this.selectChange.bind(this)}render(){return l.createElement(l.Fragment,null,l.createElement("div",{className:"content"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-md-6"},l.createElement("div",{className:"form-group"},l.createElement("label",{htmlFor:"firstname"},"Firstname"),l.createElement("input",{name:"firstname",type:"text",className:"form-control",onChange:this.itemChange,defaultValue:this.props.address.firstname}))),l.createElement("div",{className:"col-md-6"},l.createElement("div",{className:"form-group"},l.createElement("label",{htmlFor:"lastname"},"Lastname"),l.createElement("input",{name:"lastname",type:"text",className:"form-control",onChange:this.itemChange,defaultValue:this.props.address.lastname})))),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-md-6"},l.createElement("div",{className:"form-group"},l.createElement("label",{htmlFor:"company"},"Company"),l.createElement("input",{name:"company",type:"text",className:"form-control",onChange:this.itemChange,defaultValue:this.props.address.company}))),l.createElement("div",{className:"col-md-6"},l.createElement("div",{className:"form-group"},l.createElement("label",{htmlFor:"street"},"Street"),l.createElement("input",{name:"street",type:"text",className:"form-control",onChange:this.itemChange,defaultValue:this.props.address.street})))),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-md-6 col-lg-3"},l.createElement("div",{className:"form-group"},l.createElement("label",{htmlFor:"city"},"City"),l.createElement("input",{name:"city",type:"text",className:"form-control",onChange:this.itemChange,defaultValue:this.props.address.city}))),l.createElement("div",{className:"col-md-6 col-lg-3"},l.createElement("div",{className:"form-group"},l.createElement("label",{htmlFor:"zip"},"ZIP"),l.createElement("input",{name:"zip",type:"text",className:"form-control",onChange:this.itemChange,defaultValue:this.props.address.zip}))),l.createElement("div",{className:"col-md-6 col-lg-3"},l.createElement("div",{className:"form-group"},l.createElement("label",{htmlFor:"state"},"State"),l.createElement(R,{name:"state",options:Xe,onChange:this.selectChange("state"),value:this.props.address.state}))),l.createElement("div",{className:"col-md-6 col-lg-3"},l.createElement("div",{className:"form-group"},l.createElement("label",{htmlFor:"country"},"Country"),l.createElement("select",{id:"country",className:"form-control"},l.createElement("option",{value:"USA"},"USA")))),l.createElement("div",{className:"col-md-6"},l.createElement("div",{className:"form-group"},l.createElement("label",{htmlFor:"phone"},"Telephone"),l.createElement("input",{name:"phone",type:"text",className:"form-control",onChange:this.itemChange,defaultValue:this.props.address.phone}))),l.createElement("div",{className:"col-md-6"},l.createElement("div",{className:"form-group"},l.createElement("label",{htmlFor:"email"},"Email"),l.createElement("input",{name:"email",type:"text",className:"form-control",onChange:this.itemChange,defaultValue:this.props.address.email}))))),l.createElement("div",{className:"box-footer"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-4"},l.createElement(m,{className:"btn btn-outline-white-primary text-left",onClick:this.updateAndProceed("/catalog")},l.createElement("i",{className:"fa fa-chevron-left"}),"Continue Shopping")),l.createElement("div",{className:"col-4 offset-4"},l.createElement(m,{className:"btn btn-outline-white-primary text-right",onClick:this.updateAndProceed("/checkout/delivery")},"Choose Delivery Method",l.createElement("i",{className:"fa fa-chevron-right"}))))))}}class tt extends l.Component{constructor(e){super(e),a(this,"updatePayment",(e=>{this.setState(t(t({},this.state),{localPayment:e}))})),a(this,"totalFromProps",(()=>{var e=0;return null!=this.props.cartItems&&this.props.cartItems.forEach((t=>{e+=Number(t.quantity)*Number(t.price)})),"$"+e.toFixed(2)})),console.log("checkout CTOR"),console.log(e.address)}render(){return l.createElement("div",{id:"content"},l.createElement("div",{className:"container"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-md-10 offset-md-1"},l.createElement(A,{className:"d-flex justify-content-md-end justify-content-center "},l.createElement(x,null,l.createElement(i,{to:"/home"},"Home")),"/checkout/address"===this.props.tabUrl&&l.createElement(x,{active:!0},"Checkout - Address"),"/checkout/delivery"===this.props.tabUrl&&l.createElement(x,{active:!0},"Checkout - Delivery"),"/checkout/payment"===this.props.tabUrl&&l.createElement(x,{active:!0},"Checkout - Payment"),"/checkout/review"===this.props.tabUrl&&l.createElement(x,{active:!0},"Checkout - Review")))),l.createElement("div",{className:"box text-center"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-md-10 offset-md-1"},l.createElement("h1",null,"Checkout - Address")))),l.createElement("div",{className:"row"},l.createElement("div",{id:"checkout",className:"col-lg-9"},l.createElement("div",{className:"box"},l.createElement(g,{pills:!0,fill:!0},l.createElement(v,null,l.createElement(o,{className:"nav-link",to:"/checkout/address"},l.createElement("i",{className:"fa fa-map-marker"}),l.createElement("br",null),"Address")),l.createElement(v,null,l.createElement(o,{className:"nav-link",to:"/checkout/delivery"},l.createElement("i",{className:"fa fa-truck"}),l.createElement("br",null),"Delivery Method")),l.createElement(v,null,l.createElement(o,{className:"nav-link",to:"/checkout/payment"},l.createElement("i",{className:"fa fa-money"}),l.createElement("br",null),"Payment Method")),l.createElement(v,null,l.createElement(o,{className:"nav-link",to:"/checkout/review"},l.createElement("i",{className:"fa fa-eye"}),l.createElement("br",null),"Order Review"))),"/checkout/address"===this.props.tabUrl&&l.createElement(et,{address:this.props.address,setAddress:this.props.setAddress,history:this.props.history}),"/checkout/delivery"===this.props.tabUrl&&l.createElement(Je,{delivery:this.props.delivery,setDelivery:this.props.setDelivery,history:this.props.history}),"/checkout/payment"===this.props.tabUrl&&l.createElement(ze,{payment:this.props.payment,setPayment:this.props.setPayment,history:this.props.history}),"/checkout/review"===this.props.tabUrl&&l.createElement(Qe,{cartItems:this.props.cartItems,history:this.props.history,postOrder:this.props.postOrder,address:this.props.address,delivery:this.props.delivery,payment:this.props.payment,authToken:this.props.authToken}))),l.createElement("div",{className:"col-lg-3"},l.createElement("div",{id:"order-summary",className:"box"},l.createElement("div",{className:"box-header"},l.createElement("h3",null,"Order Summary")),l.createElement("p",{className:"text-muted"},"Shipping and additional costs may vary"),l.createElement("div",{className:"table-responsive"},l.createElement("table",{className:"table"},l.createElement("tbody",null,l.createElement("tr",null,l.createElement("td",null,"Order subtotal"),l.createElement("th",{id:"orderSubtotal"},this.totalFromProps())),l.createElement("tr",null,l.createElement("td",null,"Shipping and handling"),l.createElement("th",null,"$0.00")),l.createElement("tr",null,l.createElement("td",null,"Tax"),l.createElement("th",null,"$0.00")),l.createElement("tr",{className:"total"},l.createElement("td",null,"Total"),l.createElement("th",{id:"orderTotal"},this.totalFromProps()))))))))))}}class at extends l.Component{constructor(e){super(e)}render(){return this.props.isLoading?l.createElement("div",{id:"all"},l.createElement("div",{id:"content"},l.createElement("div",{className:"container"},l.createElement(A,{className:"d-flex justify-content-md-end justify-content-center "},l.createElement(x,null,l.createElement(i,{to:"/home"},"Home")),l.createElement(x,{active:!0},"Order Loading")),l.createElement("div",{className:"box text-center"},l.createElement(le,null))))):null!=this.props.errMess?l.createElement("div",{id:"all"},l.createElement("div",{id:"content"},l.createElement("div",{className:"container"},l.createElement(A,{className:"d-flex justify-content-md-end justify-content-center "},l.createElement(x,null,l.createElement(i,{to:"/home"},"Home")),l.createElement(x,{active:!0},"Order Error  ")),l.createElement("h4",{className:"text-danger"},"Error submitting order: ",this.props.errMess),l.createElement(i,{to:"/checkout/address",className:"text-danger"},l.createElement("p",{className:"text-danger"},"Back to Checkout."))))):l.createElement("div",{id:"all"},l.createElement("div",{id:"content"},l.createElement("div",{className:"container"},l.createElement(A,{className:"d-flex justify-content-md-end justify-content-center "},l.createElement(x,null,l.createElement(i,{to:"/home"},"Home")),l.createElement(x,{active:!0},"Order Success  ")),l.createElement("div",null,l.createElement("p",{className:"text-success"},"Your order was successfully processed!  Thanks for staying fit with Acme Fitness!"),l.createElement(i,{to:"/catalog"},l.createElement("p",null,"Back to Shopping!  "))))))}}class lt extends l.Component{constructor(e){super(e)}componentDidMount(){this.props.fetchCatalogItems(),this.props.fetchAuthClient()}render(){const e=({history:e})=>l.createElement(Ve,{isLoading:this.props.cartItems.isLoading,errMess:this.props.cartItems.errMess,cartItems:this.props.cartItems.cartItems,postCartData:this.props.postCartData,fetchCartItems:this.props.fetchCartItems,authToken:this.props.authToken.authToken,history:e}),a=({match:e})=>l.createElement(je,{item:this.props.catalogItems.catalogItems.filter((t=>t.id===e.params.productId))[0],isLoading:this.props.catalogItems.isLoading,errMess:this.props.catalogItems.errMess,authToken:this.props.authToken.authToken,postCartData:this.props.postCartData,cartItems:this.props.cartItems}),s=({match:e,history:t})=>l.createElement(tt,{tabUrl:e.url,address:this.props.checkout.address,delivery:this.props.checkout.delivery,payment:this.props.checkout.payment,setAddress:this.props.setAddress,setDelivery:this.props.setDelivery,setPayment:this.props.setPayment,cartItems:this.props.cartItems.cartItems,history:t,postOrder:this.props.postOrder,authToken:this.props.authToken.authToken});return l.createElement("div",{className:"App"},l.createElement(te,{authClient:this.props.authClient.authClient,authClientIsLoading:this.props.authClient.isLoading,authClientErr:this.props.authClient.errMess,user:this.props.user.user,userErr:this.props.user.errMess,storeUser:this.props.storeUser,fetchCartItems:this.props.fetchCartItems,cartLoading:this.props.cartItems.isLoading,cartErr:this.props.cartItems.errMess,cartItems:this.props.cartItems.cartItems}),l.createElement(G,null,l.createElement(H,{key:this.props.location.key,classNames:"page",timeout:300},l.createElement($,null,l.createElement(q,{exact:!0,path:"/home",component:()=>l.createElement(oe,{catalogItems:this.props.catalogItems.catalogItems,catalogItemsLoading:this.props.catalogItems.isLoading,catalogItemsErrMess:this.props.catalogItems.errMess})}),l.createElement(q,{exact:!0,path:"/catalog",component:()=>l.createElement(ie,{isLoading:this.props.catalogItems.isLoading,errMess:this.props.catalogItems.errMess,catalogItems:this.props.catalogItems.catalogItems,cartItems:this.props.cartItems.cartItems,postCartData:this.props.postCartData})}),l.createElement(q,{exact:!0,path:"/contact",component:de}),l.createElement(q,{path:"/product-:productId",component:a}),l.createElement(q,{path:"/product/:productId",component:a}),l.createElement(q,{exact:!0,path:"/profile",component:()=>l.createElement($e,{user:this.props.user.user,authClient:this.props.authClient.authClient})}),l.createElement(q,{exact:!0,path:"/cart",render:a=>l.createElement(e,t({},a))}),l.createElement(q,{exact:!0,path:"/checkout/address",component:s}),l.createElement(q,{exact:!0,path:"/checkout/delivery",component:s}),l.createElement(q,{exact:!0,path:"/checkout/payment",component:s}),l.createElement(q,{exact:!0,path:"/checkout/review",component:s}),l.createElement(q,{exact:!0,path:"/transaction",component:()=>l.createElement(at,{isLoading:this.props.order.isLoading,errMess:this.props.order.errMess})}),l.createElement(B,{to:"/home"})))),l.createElement(ae,null))}}var st=_(M((e=>({cartItems:e.cartItems,catalogItems:e.catalogItems,authClient:e.authClient,user:e.user,authToken:e.authToken,checkout:e.checkout,order:e.order})),(e=>({postContactForm:(t,a,l,s,r,n,c)=>e(((e,t,a,l,s,r,n)=>c=>{const o={firstname:e,lastname:t,telnum:a,email:l,agree:s,contactType:r,message:n};return o.date=(new Date).toISOString(),fetch("$$baseUrlcontact",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"},credentials:"same-origin"}).then((e=>{if(e.ok)return e;var t=new Error("Error: "+e.status+": "+e.statusText);throw t.response=e,t}),(e=>{throw new Error(e.message)})).catch((e=>{alert("Your contact request could not be posted\nError: "+e.message)}))})(t,a,l,s,r,n,c)),fetchCartItems:t=>e(Ne(t)),postCartData:(t,a)=>e(be(t,a)),fetchCatalogItems:t=>e(Ee()),resetContactForm:()=>e(j.actions.reset("contact")),fetchAuthClient:()=>e(ge()),storeUser:t=>e(Pe(t)),setAddress:t=>e((e=>({type:"SET_ADDRESS",payload:e}))(t)),setDelivery:t=>e((e=>({type:"SET_DELIVERY",payload:e}))(t)),setPayment:t=>e((e=>({type:"SET_PAYMENT",payload:e}))(t)),postOrder:(t,a,l)=>e(((e,t,a)=>l=>{const s={headers:{Authorization:`Bearer ${t}`}};return l(we()),T.post("$$orderUrlorder/add",e,s).then((e=>{200==e.status?(l(Te()),l(be(t,{cart:{}})),a()):(l(ke(e.status+" : "+e.data)),a())})).catch((e=>{l(ke(e.message)),a()}))})(t,a,l))})))(lt));const rt=(e={isLoading:!0,errMess:null,catalogItems:[]},a)=>{switch(a.type){case"ADD_CATALOG_ITEMS":return t(t({},e),{isLoading:!1,errMess:null,catalogItems:a.payload});case"CATALOG_ITEMS_LOADING":return t(t({},e),{isLoading:!0,errMess:null,catalogItems:[]});case"CATALOG_ITEMS_FAILED":return t(t({},e),{isLoading:!1,errMess:a.payload,catalogItems:[]});default:return e}},nt=(e={isLoading:!1,errMess:null,cartItems:null},a)=>{switch(a.type){case"ADD_CART_ITEMS":return t(t({},e),{isLoading:!1,errMess:null,cartItems:a.payload});case"CART_ITEMS_LOADING":return t(t({},e),{isLoading:!0,errMess:null,cartItems:null});case"CART_ITEMS_FAILED":return t(t({},e),{isLoading:!1,errMess:a.payload,cartItems:null});default:return e}},ct={firstname:"",lastname:"",telnum:"",email:"",agree:!1,contactType:"Tel.",message:""},ot=(e={isLoading:!0,errMess:null,authClient:null},a)=>{switch(a.type){case"STORE_AUTH_CLIENT":return t(t({},e),{isLoading:!1,errMess:null,authClient:a.payload});case"AUTH_CLIENT_LOADING":return t(t({},e),{isLoading:!0,errMess:null,authClient:null});case"AUTH_CLIENT_FAILED":return t(t({},e),{isLoading:!1,errMess:a.payload,authClient:null});default:return e}},mt=(e={errMess:null,user:null},a)=>{switch(a.type){case"STORE_USER":return t(t({},e),{errMess:null,user:a.payload});case"GET_USER_ERROR":return t(t({},e),{errMess:a.payload,user:null});default:return e}},it=(e={isLoading:!1,errMess:null,authToken:null},a)=>{switch(a.type){case"SET_TOKEN":return t(t({},e),{isLoading:!1,errMess:null,authToken:a.payload});case"TOKEN_LOADING":return t(t({},e),{isLoading:!0,errMess:null,authToken:null});case"TOKEN_ERROR":return t(t({},e),{isLoading:!1,errMess:a.payload,authToken:null});default:return e}},dt=(e={address:{},delivery:"tractor",payment:{},status:"Not Submitted"},a)=>{switch(a.type){case"SET_ADDRESS":return t(t({},e),{address:a.payload});case"SET_DELIVERY":return t(t({},e),{delivery:a.payload});case"SET_PAYMENT":return t(t({},e),{payment:a.payload});default:return e}},pt=(e={isLoading:!1,errMess:null},a)=>{switch(a.type){case"ORDER_LOADING":return t(t({},e),{isLoading:!0,errMess:null});case"ORDER_ERROR":return t(t({},e),{isLoading:!1,errMess:a.payload});case"ORDER_SUCCESS":return t(t({},e),{isLoading:!1,errMess:null});default:return e}};const ut=V(Y(t({catalogItems:rt,cartItems:nt,authClient:ot,user:mt,authToken:it,checkout:dt,order:pt},j.createForms({contact:ct}))),J(K,W));function ht(){return l.createElement(z,{store:ut},l.createElement(Z,{basename:"/shop"},l.createElement(st,null)))}Q.render(l.createElement(l.StrictMode,null,l.createElement(ht,null)),document.getElementById("root"));
